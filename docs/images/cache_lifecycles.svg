<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1122" height="1904" contentScriptType="application/ecmascript" contentStyleType="text/css" preserveAspectRatio="none" style="width:1122px;height:1904px" version="1.1" viewBox="0 0 1122 1904" zoomAndPan="magnify"><g><rect width="10" height="1500.711" x="510" fill="#FFF" style="stroke:#a80036;stroke-width:1" y="182.828"/><rect width="10" height="1427.313" x="622.5" fill="#FFF" style="stroke:#a80036;stroke-width:1" y="227.094"/><rect width="10" height="441.727" x="940.5" fill="#FFF" style="stroke:#a80036;stroke-width:1" y="439.891"/><rect width="10" height="271.063" x="940.5" fill="#FFF" style="stroke:#a80036;stroke-width:1" y="1063.281"/><line style="stroke:#a80036;stroke-width:1;stroke-dasharray:5,5" x1="34" x2="34" y1="65.297" y2="1743.672"/><line style="stroke:#a80036;stroke-width:1;stroke-dasharray:5,5" x1="188.5" x2="188.5" y1="65.297" y2="1743.672"/><line style="stroke:#a80036;stroke-width:1;stroke-dasharray:5,5" x1="345.5" x2="345.5" y1="65.297" y2="1743.672"/><line style="stroke:#a80036;stroke-width:1;stroke-dasharray:5,5" x1="514.5" x2="514.5" y1="65.297" y2="1743.672"/><line style="stroke:#a80036;stroke-width:1;stroke-dasharray:5,5" x1="627.5" x2="627.5" y1="65.297" y2="1743.672"/><line style="stroke:#a80036;stroke-width:1;stroke-dasharray:5,5" x1="774" x2="774" y1="65.297" y2="1743.672"/><line style="stroke:#a80036;stroke-width:1;stroke-dasharray:5,5" x1="945.5" x2="945.5" y1="65.297" y2="1743.672"/><line style="stroke:#a80036;stroke-width:1;stroke-dasharray:5,5" x1="1032.5" x2="1032.5" y1="65.297" y2="1743.672"/><line style="stroke:#a80036;stroke-width:1;stroke-dasharray:5,5" x1="1098.5" x2="1098.5" y1="65.297" y2="1743.672"/><rect width="52" height="30.297" x="8" fill="#FEFECE" style="stroke:#a80036;stroke-width:1.5" y="34"/><text x="15" y="53.995" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="38">Caller</text><rect width="52" height="30.297" x="8" fill="#FEFECE" style="stroke:#a80036;stroke-width:1.5" y="1742.672"/><text x="15" y="1762.667" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="38">Caller</text><rect width="35" height="30.297" x="171.5" fill="#FEFECE" style="stroke:#a80036;stroke-width:1.5" y="34"/><text x="178.5" y="53.995" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="21">API</text><rect width="35" height="30.297" x="171.5" fill="#FEFECE" style="stroke:#a80036;stroke-width:1.5" y="1742.672"/><text x="178.5" y="1762.667" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="21">API</text><text x="290.5" y="61.995" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="105">SessionFactory</text><path fill="none" d="M325.5,21 L325.5,45 M325.5,33 L342.5,33" style="stroke:#a80036;stroke-width:2"/><ellipse cx="354.5" cy="33" fill="#FEFECE" rx="12" ry="12" style="stroke:#a80036;stroke-width:2"/><text x="290.5" y="1755.667" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="105">SessionFactory</text><path fill="none" d="M325.5,1762.9688 L325.5,1786.9688 M325.5,1774.9688 L342.5,1774.9688" style="stroke:#a80036;stroke-width:2"/><ellipse cx="354.5" cy="1774.969" fill="#FEFECE" rx="12" ry="12" style="stroke:#a80036;stroke-width:2"/><rect width="117" height="30.297" x="458.5" fill="#FEFECE" style="stroke:#a80036;stroke-width:1.5" y="30"/><rect width="117" height="30.297" x="454.5" fill="#FEFECE" style="stroke:#a80036;stroke-width:1.5" y="34"/><text x="461.5" y="53.995" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="103">Session Cache</text><rect width="117" height="30.297" x="458.5" fill="#FEFECE" style="stroke:#a80036;stroke-width:1.5" y="1742.672"/><rect width="117" height="30.297" x="454.5" fill="#FEFECE" style="stroke:#a80036;stroke-width:1.5" y="1746.672"/><text x="461.5" y="1766.667" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="103">Session Cache</text><rect width="80" height="30.297" x="589.5" fill="#FEFECE" style="stroke:#a80036;stroke-width:1.5" y="30"/><rect width="80" height="30.297" x="585.5" fill="#FEFECE" style="stroke:#a80036;stroke-width:1.5" y="34"/><text x="592.5" y="53.995" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66">SK Cache</text><rect width="80" height="30.297" x="589.5" fill="#FEFECE" style="stroke:#a80036;stroke-width:1.5" y="1742.672"/><rect width="80" height="30.297" x="585.5" fill="#FEFECE" style="stroke:#a80036;stroke-width:1.5" y="1746.672"/><text x="592.5" y="1766.667" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66">SK Cache</text><text x="744" y="61.995" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55">Session</text><path fill="none" d="M754,21 L754,45 M754,33 L771,33" style="stroke:#a80036;stroke-width:2"/><ellipse cx="783" cy="33" fill="#FEFECE" rx="12" ry="12" style="stroke:#a80036;stroke-width:2"/><text x="744" y="1755.667" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55">Session</text><path fill="none" d="M754,1762.9688 L754,1786.9688 M754,1774.9688 L771,1774.9688" style="stroke:#a80036;stroke-width:2"/><ellipse cx="783" cy="1774.969" fill="#FEFECE" rx="12" ry="12" style="stroke:#a80036;stroke-width:2"/><rect width="74" height="30.297" x="910.5" fill="#FEFECE" style="stroke:#a80036;stroke-width:1.5" y="30"/><rect width="74" height="30.297" x="906.5" fill="#FEFECE" style="stroke:#a80036;stroke-width:1.5" y="34"/><text x="913.5" y="53.995" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="60">IK Cache</text><rect width="74" height="30.297" x="910.5" fill="#FEFECE" style="stroke:#a80036;stroke-width:1.5" y="1742.672"/><rect width="74" height="30.297" x="906.5" fill="#FEFECE" style="stroke:#a80036;stroke-width:1.5" y="1746.672"/><text x="913.5" y="1766.667" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="60">IK Cache</text><text x="994.5" y="61.995" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="70">Metastore</text><path fill="#FEFECE" d="M1014.5,13 C1014.5,3 1032.5,3 1032.5,3 C1032.5,3 1050.5,3 1050.5,13 L1050.5,39 C1050.5,49 1032.5,49 1032.5,49 C1032.5,49 1014.5,49 1014.5,39 L1014.5,13" style="stroke:#000;stroke-width:1.5"/><path fill="none" d="M1014.5,13 C1014.5,23 1032.5,23 1032.5,23 C1032.5,23 1050.5,23 1050.5,13" style="stroke:#000;stroke-width:1.5"/><text x="994.5" y="1755.667" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="70">Metastore</text><path fill="#FEFECE" d="M1014.5,1768.9688 C1014.5,1758.9688 1032.5,1758.9688 1032.5,1758.9688 C1032.5,1758.9688 1050.5,1758.9688 1050.5,1768.9688 L1050.5,1794.9688 C1050.5,1804.9688 1032.5,1804.9688 1032.5,1804.9688 C1032.5,1804.9688 1014.5,1804.9688 1014.5,1794.9688 L1014.5,1768.9688" style="stroke:#000;stroke-width:1.5"/><path fill="none" d="M1014.5,1768.9688 C1014.5,1778.9688 1032.5,1778.9688 1032.5,1778.9688 C1032.5,1778.9688 1050.5,1778.9688 1050.5,1768.9688" style="stroke:#000;stroke-width:1.5"/><text x="1080.5" y="61.995" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="30">KMS</text><ellipse cx="1098.5" cy="33" fill="#FEFECE" rx="12" ry="12" style="stroke:#a80036;stroke-width:2"/><line style="stroke:#a80036;stroke-width:2" x1="1086.5" x2="1110.5" y1="47" y2="47"/><text x="1080.5" y="1755.667" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="30">KMS</text><ellipse cx="1098.5" cy="1774.969" fill="#FEFECE" rx="12" ry="12" style="stroke:#a80036;stroke-width:2"/><line style="stroke:#a80036;stroke-width:2" x1="1086.5" x2="1110.5" y1="1788.969" y2="1788.969"/><rect width="10" height="1500.711" x="510" fill="#FFF" style="stroke:#a80036;stroke-width:1" y="182.828"/><rect width="10" height="1427.313" x="622.5" fill="#FFF" style="stroke:#a80036;stroke-width:1" y="227.094"/><rect width="10" height="441.727" x="940.5" fill="#FFF" style="stroke:#a80036;stroke-width:1" y="439.891"/><rect width="10" height="271.063" x="940.5" fill="#FFF" style="stroke:#a80036;stroke-width:1" y="1063.281"/><line style="stroke:#a80036;stroke-width:1" x1="189" x2="231" y1="96.43" y2="96.43"/><line style="stroke:#a80036;stroke-width:1" x1="231" x2="231" y1="96.43" y2="109.43"/><line style="stroke:#a80036;stroke-width:1" x1="190" x2="231" y1="109.43" y2="109.43"/><polygon fill="#A80036" points="200 105.43 190 109.43 200 113.43 196 109.43" style="stroke:#a80036;stroke-width:1"/><text x="196" y="91.364" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101">startup initiated</text><polygon fill="#A80036" points="334 134.563 344 138.563 334 142.563 338 138.563" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="189" x2="340" y1="138.563" y2="138.563"/><text x="196" y="133.497" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118">create new factory</text><polygon fill="#A80036" points="498 178.828 508 182.828 498 186.828 502 182.828" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="346" x2="504" y1="182.828" y2="182.828"/><text x="353" y="162.629" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="70">create new</text><text x="353" y="177.762" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92">Session cache</text><polygon fill="#A80036" points="610.5 223.094 620.5 227.094 610.5 231.094 614.5 227.094" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="346" x2="616.5" y1="227.094" y2="227.094"/><text x="353" y="206.895" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="70">create new</text><text x="353" y="222.028" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59">SK cache</text><line style="stroke:#a80036;stroke-width:1" x1="189" x2="231" y1="256.227" y2="256.227"/><line style="stroke:#a80036;stroke-width:1" x1="231" x2="231" y1="256.227" y2="269.227"/><line style="stroke:#a80036;stroke-width:1" x1="190" x2="231" y1="269.227" y2="269.227"/><polygon fill="#A80036" points="200 265.227 190 269.227 200 273.227 196 269.227" style="stroke:#a80036;stroke-width:1"/><text x="196" y="251.161" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117">startup completes</text><polygon fill="#A80036" points="177 319.359 187 323.359 177 327.359 181 323.359" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="34" x2="183" y1="323.359" y2="323.359"/><text x="41" y="318.293" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="91">API call User 1</text><polygon fill="#A80036" points="334 348.492 344 352.492 334 356.492 338 352.492" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="189" x2="340" y1="352.492" y2="352.492"/><text x="196" y="347.426" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="122">create new session</text><polygon fill="#A80036" points="762.5 377.625 772.5 381.625 762.5 385.625 766.5 381.625" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="346" x2="768.5" y1="381.625" y2="381.625"/><text x="353" y="376.559" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="128">create new instance</text><polygon fill="#A80036" points="498 406.758 508 410.758 498 414.758 502 410.758" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="346" x2="504" y1="410.758" y2="410.758"/><text x="353" y="405.692" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="90">cache session</text><polygon fill="#A80036" points="928.5 435.891 938.5 439.891 928.5 443.891 932.5 439.891" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="774.5" x2="934.5" y1="439.891" y2="439.891"/><text x="781.5" y="434.825" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127">create new IK cache</text><polygon fill="#A80036" points="762.5 465.023 772.5 469.023 762.5 473.023 766.5 469.023" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="189" x2="768.5" y1="469.023" y2="469.023"/><text x="196" y="463.957" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73">operation 1</text><polygon fill="#A80036" points="1020.5 494.156 1030.5 498.156 1020.5 502.156 1024.5 498.156" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="774.5" x2="1026.5" y1="498.156" y2="498.156"/><text x="781.5" y="493.09" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47">fetch IK</text><polygon fill="#A80036" points="1020.5 523.289 1030.5 527.289 1020.5 531.289 1024.5 527.289" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="774.5" x2="1026.5" y1="527.289" y2="527.289"/><text x="781.5" y="522.223" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="53">fetch SK</text><polygon fill="#A80036" points="1086.5 552.422 1096.5 556.422 1086.5 560.422 1090.5 556.422" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="774.5" x2="1092.5" y1="556.422" y2="556.422"/><text x="781.5" y="551.356" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121">decrypt SK with MK</text><polygon fill="#A80036" points="643.5 581.555 633.5 585.555 643.5 589.555 639.5 585.555" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="637.5" x2="773.5" y1="585.555" y2="585.555"/><text x="649.5" y="580.489" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59">cache SK</text><line style="stroke:#a80036;stroke-width:1" x1="774.5" x2="816.5" y1="614.688" y2="614.688"/><line style="stroke:#a80036;stroke-width:1" x1="816.5" x2="816.5" y1="614.688" y2="627.688"/><line style="stroke:#a80036;stroke-width:1" x1="775.5" x2="816.5" y1="627.688" y2="627.688"/><polygon fill="#A80036" points="785.5 623.688 775.5 627.688 785.5 631.688 781.5 627.688" style="stroke:#a80036;stroke-width:1"/><text x="781.5" y="609.622" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113">decrypt IK with SK</text><polygon fill="#A80036" points="928.5 652.82 938.5 656.82 928.5 660.82 932.5 656.82" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="774.5" x2="934.5" y1="656.82" y2="656.82"/><text x="781.5" y="651.754" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="53">cache IK</text><polygon fill="#A80036" points="200 681.953 190 685.953 200 689.953 196 685.953" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="194" x2="773.5" y1="685.953" y2="685.953"/><text x="206" y="680.887" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="137">complete operation 1</text><polygon fill="#A80036" points="762.5 736.086 772.5 740.086 762.5 744.086 766.5 740.086" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="189" x2="768.5" y1="740.086" y2="740.086"/><text x="196" y="735.02" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73">operation 2</text><polygon fill="#A80036" points="928.5 765.219 938.5 769.219 928.5 773.219 932.5 769.219" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="774.5" x2="934.5" y1="769.219" y2="769.219"/><text x="781.5" y="764.153" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112">get IK from cache</text><polygon fill="#A80036" points="200 794.352 190 798.352 200 802.352 196 798.352" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="194" x2="773.5" y1="798.352" y2="798.352"/><text x="206" y="793.286" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="137">complete operation 2</text><polygon fill="#A80036" points="762.5 848.484 772.5 852.484 762.5 856.484 766.5 852.484" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="189" x2="768.5" y1="852.484" y2="852.484"/><text x="196" y="847.418" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="85">close session</text><polygon fill="#A80036" points="531 877.617 521 881.617 531 885.617 527 881.617" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="525" x2="773.5" y1="881.617" y2="881.617"/><text x="537" y="876.551" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141">update Session cache</text><polygon fill="#A80036" points="45 906.75 35 910.75 45 914.75 41 910.75" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="39" x2="188" y1="910.75" y2="910.75"/><text x="51" y="905.684" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="131">API call User 1 result</text><polygon fill="#A80036" points="177 985.883 187 989.883 177 993.883 181 989.883" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="34" x2="183" y1="989.883" y2="989.883"/><text x="41" y="984.817" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="91">API call User 2</text><polygon fill="#A80036" points="334 1015.016 344 1019.016 334 1023.016 338 1019.016" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="189" x2="340" y1="1019.016" y2="1019.016"/><text x="196" y="1013.95" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="122">create new session</text><polygon fill="#A80036" points="762.5 1059.281 772.5 1063.281 762.5 1067.281 766.5 1063.281" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="520" x2="768.5" y1="1063.281" y2="1063.281"/><text x="527" y="1043.082" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="194">get cached session if available</text><text x="527" y="1058.215" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158">else create new instance</text><polygon fill="#A80036" points="762.5 1088.414 772.5 1092.414 762.5 1096.414 766.5 1092.414" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="189" x2="768.5" y1="1092.414" y2="1092.414"/><text x="196" y="1087.348" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73">operation 1</text><polygon fill="#A80036" points="1020.5 1117.547 1030.5 1121.547 1020.5 1125.547 1024.5 1121.547" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="774.5" x2="1026.5" y1="1121.547" y2="1121.547"/><text x="781.5" y="1116.481" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47">fetch IK</text><polygon fill="#A80036" points="643.5 1146.68 633.5 1150.68 643.5 1154.68 639.5 1150.68" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="637.5" x2="773.5" y1="1150.68" y2="1150.68"/><text x="649.5" y="1145.614" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118">get SK from cache</text><line style="stroke:#a80036;stroke-width:1" x1="774.5" x2="816.5" y1="1179.813" y2="1179.813"/><line style="stroke:#a80036;stroke-width:1" x1="816.5" x2="816.5" y1="1179.813" y2="1192.813"/><line style="stroke:#a80036;stroke-width:1" x1="775.5" x2="816.5" y1="1192.813" y2="1192.813"/><polygon fill="#A80036" points="785.5 1188.813 775.5 1192.813 785.5 1196.813 781.5 1192.813" style="stroke:#a80036;stroke-width:1"/><text x="781.5" y="1174.747" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113">decrypt IK with SK</text><polygon fill="#A80036" points="928.5 1217.945 938.5 1221.945 928.5 1225.945 932.5 1221.945" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="774.5" x2="934.5" y1="1221.945" y2="1221.945"/><text x="781.5" y="1216.879" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="53">cache IK</text><polygon fill="#A80036" points="200 1247.078 190 1251.078 200 1255.078 196 1251.078" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="194" x2="773.5" y1="1251.078" y2="1251.078"/><text x="206" y="1246.012" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="137">complete operation 1</text><polygon fill="#A80036" points="762.5 1301.211 772.5 1305.211 762.5 1309.211 766.5 1305.211" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="189" x2="768.5" y1="1305.211" y2="1305.211"/><text x="196" y="1300.145" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="85">close session</text><polygon fill="#A80036" points="531 1330.344 521 1334.344 531 1338.344 527 1334.344" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="525" x2="773.5" y1="1334.344" y2="1334.344"/><text x="537" y="1329.278" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141">update Session cache</text><polygon fill="#A80036" points="45 1359.477 35 1363.477 45 1367.477 41 1363.477" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="39" x2="188" y1="1363.477" y2="1363.477"/><text x="51" y="1358.411" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="131">API call User 2 result</text><line style="stroke:#a80036;stroke-width:1" x1="346" x2="388" y1="1457.742" y2="1457.742"/><line style="stroke:#a80036;stroke-width:1" x1="388" x2="388" y1="1457.742" y2="1470.742"/><line style="stroke:#a80036;stroke-width:1" x1="347" x2="388" y1="1470.742" y2="1470.742"/><polygon fill="#A80036" points="357 1466.742 347 1470.742 357 1474.742 353 1470.742" style="stroke:#a80036;stroke-width:1"/><text x="353" y="1437.543" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="90">session cache</text><text x="353" y="1452.676" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155">expire timeout triggered</text><polygon fill="#A80036" points="498 1495.875 508 1499.875 498 1503.875 502 1499.875" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="346" x2="504" y1="1499.875" y2="1499.875"/><text x="353" y="1494.809" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="91">expire session</text><polygon fill="#A80036" points="933.5 1525.008 943.5 1529.008 933.5 1533.008 937.5 1529.008" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="774.5" x2="939.5" y1="1529.008" y2="1529.008"/><text x="781.5" y="1523.942" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147">securely close IK cache</text><line style="stroke:#a80036;stroke-width:2" x1="936.5" x2="954.5" y1="1520.008" y2="1538.008"/><line style="stroke:#a80036;stroke-width:2" x1="936.5" x2="954.5" y1="1538.008" y2="1520.008"/><line style="stroke:#a80036;stroke-width:1" x1="189" x2="231" y1="1583.141" y2="1583.141"/><line style="stroke:#a80036;stroke-width:1" x1="231" x2="231" y1="1583.141" y2="1596.141"/><line style="stroke:#a80036;stroke-width:1" x1="190" x2="231" y1="1596.141" y2="1596.141"/><polygon fill="#A80036" points="200 1592.141 190 1596.141 200 1600.141 196 1596.141" style="stroke:#a80036;stroke-width:1"/><text x="196" y="1578.075" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="116">shutdown initiated</text><polygon fill="#A80036" points="334 1621.273 344 1625.273 334 1629.273 338 1625.273" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="189" x2="340" y1="1625.273" y2="1625.273"/><text x="196" y="1620.207" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="133">close session factory</text><polygon fill="#A80036" points="615.5 1650.406 625.5 1654.406 615.5 1658.406 619.5 1654.406" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="346" x2="621.5" y1="1654.406" y2="1654.406"/><text x="353" y="1649.34" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="153">securely close SK cache</text><line style="stroke:#a80036;stroke-width:2" x1="618.5" x2="636.5" y1="1645.406" y2="1663.406"/><line style="stroke:#a80036;stroke-width:2" x1="618.5" x2="636.5" y1="1663.406" y2="1645.406"/><polygon fill="#A80036" points="503 1679.539 513 1683.539 503 1687.539 507 1683.539" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="346" x2="509" y1="1683.539" y2="1683.539"/><text x="353" y="1678.473" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="129">close Session cache</text><line style="stroke:#a80036;stroke-width:2" x1="506" x2="524" y1="1674.539" y2="1692.539"/><line style="stroke:#a80036;stroke-width:2" x1="506" x2="524" y1="1692.539" y2="1674.539"/><line style="stroke:#a80036;stroke-width:1" x1="189" x2="231" y1="1712.672" y2="1712.672"/><line style="stroke:#a80036;stroke-width:1" x1="231" x2="231" y1="1712.672" y2="1725.672"/><line style="stroke:#a80036;stroke-width:1" x1="190" x2="231" y1="1725.672" y2="1725.672"/><polygon fill="#A80036" points="200 1721.672 190 1725.672 200 1729.672 196 1725.672" style="stroke:#a80036;stroke-width:1"/><text x="196" y="1707.606" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="132">shutdown completes</text><rect width="305" height="79.188" x="11" y="1813.969" fill="#DDD" rx="5" ry="5" style="stroke:#000;stroke-width:1"/><text x="22" y="1833.964" fill="#000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="39">Type</text><text x="71" y="1833.964" fill="#000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="90">Description</text><text x="21" y="1850.261" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="21">MK</text><text x="70" y="1850.261" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="209">Master Key, root key from KMS</text><text x="21" y="1866.558" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="18">SK</text><text x="70" y="1866.558" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="203">System Key, encrypted by MK</text><text x="21" y="1882.854" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="12">IK</text><text x="70" y="1882.854" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="236">Intermediate Key, encrypted by SK</text><line style="stroke:#000;stroke-width:1" x1="17" x2="310" y1="1820.969" y2="1820.969"/><line style="stroke:#000;stroke-width:1" x1="17" x2="310" y1="1837.266" y2="1837.266"/><line style="stroke:#000;stroke-width:1" x1="17" x2="310" y1="1853.563" y2="1853.563"/><line style="stroke:#000;stroke-width:1" x1="17" x2="310" y1="1869.859" y2="1869.859"/><line style="stroke:#000;stroke-width:1" x1="17" x2="310" y1="1886.156" y2="1886.156"/><line style="stroke:#000;stroke-width:1" x1="17" x2="17" y1="1820.969" y2="1886.156"/><line style="stroke:#000;stroke-width:1" x1="66" x2="66" y1="1820.969" y2="1886.156"/><line style="stroke:#000;stroke-width:1" x1="310" x2="310" y1="1820.969" y2="1886.156"/></g></svg>